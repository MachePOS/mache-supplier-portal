(()=>{var e={};e.id=665,e.ids=[665],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2382:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>c,pages:()=>d,routeModule:()=>m,tree:()=>u});var s=r(482),n=r(9108),a=r(2563),o=r.n(a),i=r(8300),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let u=["",{children:["(auth)",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,8241)),"C:\\Users\\zionj\\Handh\\mache-supplier-portal\\app\\(auth)\\login\\page.tsx"]}]},{}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,6124)),"C:\\Users\\zionj\\Handh\\mache-supplier-portal\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\zionj\\Handh\\mache-supplier-portal\\app\\(auth)\\login\\page.tsx"],c="/(auth)/login/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/(auth)/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},9555:(e,t,r)=>{Promise.resolve().then(r.bind(r,2978))},1466:(e,t,r)=>{Promise.resolve().then(r.bind(r,6739))},9324:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2583,23)),Promise.resolve().then(r.t.bind(r,6840,23)),Promise.resolve().then(r.t.bind(r,8771,23)),Promise.resolve().then(r.t.bind(r,3225,23)),Promise.resolve().then(r.t.bind(r,9295,23)),Promise.resolve().then(r.t.bind(r,3982,23))},2978:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var s=r(5344),n=r(3729),a=r(8428),o=r(6506),i=r(6234),l=r(6739);let u={title:{en:"Supplier Login",fr:"Connexion fournisseur",ht:"Konekte k\xf2m founis\xe8",es:"Inicio de sesi\xf3n"},subtitle:{en:"Access your supplier dashboard",fr:"Acc\xe9dez \xe0 votre tableau de bord",ht:"Jwenn aks\xe8 nan tablo b\xf2 ou",es:"Accede a tu panel"},email:{en:"Email",fr:"Email",ht:"Im\xe8l",es:"Correo electr\xf3nico"},emailPlaceholder:{en:"you@company.com",fr:"vous@entreprise.com",ht:"ou@konpayi.com",es:"tu@empresa.com"},password:{en:"Password",fr:"Mot de passe",ht:"Modpas",es:"Contrase\xf1a"},signIn:{en:"Sign In",fr:"Connexion",ht:"Konekte",es:"Iniciar sesi\xf3n"},signingIn:{en:"Signing in...",fr:"Connexion en cours...",ht:"Ap konekte...",es:"Iniciando sesi\xf3n..."},noAccount:{en:"Don't have an account?",fr:"Vous n'avez pas de compte?",ht:"Ou pa gen yon kont?",es:"\xbfNo tienes una cuenta?"},signUp:{en:"Apply to become a supplier",fr:"Postuler pour devenir fournisseur",ht:"Aplike pou vin founis\xe8",es:"Solicitar ser proveedor"},forgotPassword:{en:"Forgot password?",fr:"Mot de passe oubli\xe9?",ht:"Bliye modpas?",es:"\xbfOlvidaste tu contrase\xf1a?"}};function d(){let[e,t]=(0,n.useState)(""),[r,d]=(0,n.useState)(""),[c,p]=(0,n.useState)(!1),[m,h]=(0,n.useState)(""),g=(0,a.useRouter)(),{t:x}=(0,l.useLanguage)(),f=async t=>{t.preventDefault(),p(!0),h("");let s=(0,i.createClient)(),{data:n,error:a}=await s.auth.signInWithPassword({email:e,password:r});if(a){h(a.message),p(!1);return}if(!n.user){h("Login failed"),p(!1);return}let{data:o}=await s.from("supplier_users").select("supplier_id, supplier:platform_suppliers(status)").eq("auth_user_id",n.user.id).single();if(!o){let{data:t}=await s.from("platform_suppliers").select("id, status").eq("contact_email",e).single();if(t){if("pending"===t.status){g.push("/pending");return}if("rejected"===t.status){h("Your application was not approved. Please contact support."),p(!1);return}if("suspended"===t.status){h("Your account has been suspended. Please contact support."),p(!1);return}}else{h("No supplier account found. Please sign up first."),p(!1);return}}let l=o?.supplier?.status;if("pending"===l){g.push("/pending");return}if("rejected"===l){h("Your application was not approved. Please contact support."),p(!1);return}if("suspended"===l){h("Your account has been suspended. Please contact support."),p(!1);return}g.push("/"),g.refresh()};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-600 to-primary-800 py-12 px-4",children:s.jsx("div",{className:"max-w-md w-full",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary-100 mb-4",children:s.jsx("svg",{className:"w-8 h-8 text-primary-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:x("title",u.title)}),s.jsx("p",{className:"text-gray-500 mt-2",children:x("subtitle",u.subtitle)})]}),m&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:m}),(0,s.jsxs)("form",{onSubmit:f,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:x("email",u.email)}),s.jsx("input",{id:"email",name:"email",type:"email",value:e,onChange:e=>t(e.target.value),required:!0,className:"mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:x("emailPlaceholder",u.emailPlaceholder)})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:x("password",u.password)}),s.jsx("input",{id:"password",name:"password",type:"password",value:r,onChange:e=>d(e.target.value),required:!0,className:"mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),s.jsx("div",{className:"flex items-center justify-end",children:s.jsx(o.default,{href:"/forgot-password",className:"text-sm text-primary-600 hover:text-primary-700",children:x("forgotPassword",u.forgotPassword)})}),s.jsx("div",{className:"pt-2",children:s.jsx("button",{type:"submit",disabled:c,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:c?x("signingIn",u.signingIn):x("signIn",u.signIn)})})]}),s.jsx("div",{className:"mt-6 text-center",children:(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:[x("noAccount",u.noAccount)," ",s.jsx(o.default,{href:"/signup",className:"font-medium text-primary-600 hover:text-primary-700",children:x("signUp",u.signUp)})]})})]})})})}},6739:(e,t,r)=>{"use strict";r.r(t),r.d(t,{LanguageProvider:()=>o,useLanguage:()=>i});var s=r(5344),n=r(3729);let a=(0,n.createContext)(void 0);function o({children:e}){let[t,r]=(0,n.useState)("en");return(0,n.useEffect)(()=>{let e=localStorage.getItem("supplier-portal-language");e&&["en","fr","ht","es"].includes(e)&&r(e)},[]),s.jsx(a.Provider,{value:{language:t,setLanguage:e=>{r(e),localStorage.setItem("supplier-portal-language",e)},t:(e,r)=>r[t]||r.en||e},children:e})}function i(){let e=(0,n.useContext)(a);if(void 0===e)throw Error("useLanguage must be used within a LanguageProvider");return e}},6234:(e,t,r)=>{"use strict";r.d(t,{createClient:()=>n});var s=r(4144);function n(){return(0,s.AY)(process.env.NEXT_PUBLIC_SUPABASE_URL,process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY)}},8241:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>a,__esModule:()=>n,default:()=>o});let s=(0,r(6843).createProxy)(String.raw`C:\Users\zionj\Handh\mache-supplier-portal\app\(auth)\login\page.tsx`),{__esModule:n,$$typeof:a}=s,o=s.default},6124:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p,metadata:()=>c});var s=r(5036),n=r(265),a=r.n(n);r(7272);var o=r(6843);let i=(0,o.createProxy)(String.raw`C:\Users\zionj\Handh\mache-supplier-portal\contexts\LanguageContext.tsx`),{__esModule:l,$$typeof:u}=i;i.default;let d=(0,o.createProxy)(String.raw`C:\Users\zionj\Handh\mache-supplier-portal\contexts\LanguageContext.tsx#LanguageProvider`);(0,o.createProxy)(String.raw`C:\Users\zionj\Handh\mache-supplier-portal\contexts\LanguageContext.tsx#useLanguage`);let c={title:"Mache Supplier Portal",description:"Supplier portal for Mache POS Marketplace"};function p({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{className:a().className,children:s.jsx(d,{children:e})})})}},7272:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[483,506,680],()=>r(2382));module.exports=s})();