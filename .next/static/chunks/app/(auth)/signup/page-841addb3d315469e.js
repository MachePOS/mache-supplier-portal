(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[129,599],{9078:function(e,r,s){Promise.resolve().then(s.bind(s,3202))},3202:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return d}});var o=s(3827),a=s(4090),n=s(7907),t=s(8792),i=s(4599),l=s(509);let c={title:{en:"Become a Supplier",fr:"Devenir fournisseur",ht:"Vin yon founis\xe8",es:"Convi\xe9rtete en proveedor"},subtitle:{en:"Join the Mache Marketplace and reach more businesses",fr:"Rejoignez Mache Marketplace et atteignez plus d'entreprises",ht:"Rantre nan Mache Marketplace epi rive plis biznis",es:"\xdanete al Mache Marketplace y llega a m\xe1s negocios"},businessName:{en:"Business Name",fr:"Nom de l'entreprise",ht:"Non biznis",es:"Nombre del negocio"},businessPlaceholder:{en:"Your Company Name",fr:"Nom de votre entreprise",ht:"Non konpayi ou",es:"Nombre de tu empresa"},contactName:{en:"Contact Name",fr:"Nom du contact",ht:"Non kontak",es:"Nombre de contacto"},namePlaceholder:{en:"John Doe",fr:"Jean Dupont",ht:"Jan Batis",es:"Juan P\xe9rez"},email:{en:"Email",fr:"Email",ht:"Im\xe8l",es:"Correo electr\xf3nico"},emailPlaceholder:{en:"you@company.com",fr:"vous@entreprise.com",ht:"ou@konpayi.com",es:"tu@empresa.com"},phone:{en:"Phone Number",fr:"Num\xe9ro de t\xe9l\xe9phone",ht:"Nimewo telef\xf2n",es:"N\xfamero de tel\xe9fono"},phonePlaceholder:{en:"+509 0000-0000",fr:"+509 0000-0000",ht:"+509 0000-0000",es:"+509 0000-0000"},password:{en:"Password",fr:"Mot de passe",ht:"Modpas",es:"Contrase\xf1a"},passwordPlaceholder:{en:"At least 6 characters",fr:"Au moins 6 caract\xe8res",ht:"Omwen 6 karakt\xe8",es:"Al menos 6 caracteres"},confirmPassword:{en:"Confirm Password",fr:"Confirmer le mot de passe",ht:"Konfime modpas",es:"Confirmar contrase\xf1a"},country:{en:"Country",fr:"Pays",ht:"Peyi",es:"Pa\xeds"},city:{en:"City",fr:"Ville",ht:"Vil",es:"Ciudad"},cityPlaceholder:{en:"Enter your city",fr:"Entrez votre ville",ht:"Antre vil ou",es:"Ingresa tu ciudad"},address:{en:"Business Address",fr:"Adresse de l'entreprise",ht:"Adr\xe8s biznis",es:"Direcci\xf3n del negocio"},addressPlaceholder:{en:"Street address",fr:"Adresse",ht:"Adr\xe8s",es:"Direcci\xf3n"},description:{en:"Business Description",fr:"Description de l'entreprise",ht:"Deskripsyon biznis",es:"Descripci\xf3n del negocio"},descriptionPlaceholder:{en:"Tell us about your business and products...",fr:"Parlez-nous de votre entreprise...",ht:"Pale nou de biznis ou...",es:"Cu\xe9ntanos sobre tu negocio..."},submit:{en:"Apply to Become a Supplier",fr:"Postuler pour devenir fournisseur",ht:"Aplike pou vin founis\xe8",es:"Solicitar ser proveedor"},submitting:{en:"Submitting...",fr:"Envoi en cours...",ht:"Ap voye...",es:"Enviando..."},haveAccount:{en:"Already have an account?",fr:"Vous avez d\xe9j\xe0 un compte?",ht:"Ou gentan gen yon kont?",es:"\xbfYa tienes una cuenta?"},signIn:{en:"Sign in",fr:"Connexion",ht:"Konekte",es:"Iniciar sesi\xf3n"},terms:{en:"By signing up, you agree to our Terms of Service and Privacy Policy",fr:"En vous inscrivant, vous acceptez nos conditions",ht:"L\xe8 ou enskri, ou aksepte kondisyon nou yo",es:"Al registrarte, aceptas nuestros t\xe9rminos"},passwordMismatch:{en:"Passwords do not match",fr:"Les mots de passe ne correspondent pas",ht:"Modpas yo pa matche",es:"Las contrase\xf1as no coinciden"},passwordLength:{en:"Password must be at least 6 characters",fr:"Le mot de passe doit comporter au moins 6 caract\xe8res",ht:"Modpas dwe gen omwen 6 karakt\xe8",es:"La contrase\xf1a debe tener al menos 6 caracteres"}};function d(){let[e,r]=(0,a.useState)({businessName:"",contactName:"",email:"",phone:"",password:"",confirmPassword:"",country:"Haiti",city:"",address:"",description:""}),[s,d]=(0,a.useState)(!1),[u,m]=(0,a.useState)(""),p=(0,n.useRouter)(),{t:h}=(0,l.useLanguage)(),f=s=>{r({...e,[s.target.name]:s.target.value})},g=async r=>{if(r.preventDefault(),d(!0),m(""),e.password!==e.confirmPassword){m(h("passwordMismatch",c.passwordMismatch)),d(!1);return}if(e.password.length<6){m(h("passwordLength",c.passwordLength)),d(!1);return}let s=(0,i.createClient)(),{data:o,error:a}=await s.auth.signUp({email:e.email,password:e.password,options:{data:{name:e.contactName,user_type:"supplier"}}});if(a){m(a.message),d(!1);return}if(!o.user){m("Failed to create account"),d(!1);return}let n=e.businessName.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),{error:t}=await s.from("platform_suppliers").insert({name:e.businessName,slug:n+"-"+Date.now().toString(36),description:e.description,contact_email:e.email,contact_phone:e.phone,address:e.address,city:e.city,country:e.country,status:"pending"}).select().single();if(t){console.error("Supplier creation error:",t),m("Failed to create supplier profile. Please contact support."),d(!1);return}p.push("/pending")};return(0,o.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-600 to-primary-800 py-12 px-4",children:(0,o.jsx)("div",{className:"max-w-lg w-full",children:(0,o.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[(0,o.jsxs)("div",{className:"text-center mb-8",children:[(0,o.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary-100 mb-4",children:(0,o.jsx)("svg",{className:"w-8 h-8 text-primary-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),(0,o.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:h("title",c.title)}),(0,o.jsx)("p",{className:"text-gray-500 mt-2",children:h("subtitle",c.subtitle)})]}),u&&(0,o.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:u}),(0,o.jsxs)("form",{onSubmit:g,className:"space-y-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{htmlFor:"businessName",className:"block text-sm font-medium text-gray-700",children:[h("businessName",c.businessName)," *"]}),(0,o.jsx)("input",{id:"businessName",name:"businessName",type:"text",value:e.businessName,onChange:f,required:!0,className:"mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:h("businessPlaceholder",c.businessPlaceholder)})]}),(0,o.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{htmlFor:"contactName",className:"block text-sm font-medium text-gray-700",children:[h("contactName",c.contactName)," *"]}),(0,o.jsx)("input",{id:"contactName",name:"contactName",type:"text",value:e.contactName,onChange:f,required:!0,className:"mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:h("namePlaceholder",c.namePlaceholder)})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:[h("phone",c.phone)," *"]}),(0,o.jsx)("input",{id:"phone",name:"phone",type:"tel",value:e.phone,onChange:f,required:!0,className:"mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:h("phonePlaceholder",c.phonePlaceholder)})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:[h("email",c.email)," *"]}),(0,o.jsx)("input",{id:"email",name:"email",type:"email",value:e.email,onChange:f,required:!0,className:"mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:h("emailPlaceholder",c.emailPlaceholder)})]}),(0,o.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700",children:[h("country",c.country)," *"]}),(0,o.jsxs)("select",{id:"country",name:"country",value:e.country,onChange:f,required:!0,className:"mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-white",children:[(0,o.jsx)("option",{value:"Haiti",children:"Haiti"}),(0,o.jsx)("option",{value:"Dominican Republic",children:"Dominican Republic"}),(0,o.jsx)("option",{value:"Jamaica",children:"Jamaica"}),(0,o.jsx)("option",{value:"USA",children:"USA"}),(0,o.jsx)("option",{value:"Canada",children:"Canada"}),(0,o.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700",children:[h("city",c.city)," *"]}),(0,o.jsx)("input",{id:"city",name:"city",type:"text",value:e.city,onChange:f,required:!0,className:"mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:h("cityPlaceholder",c.cityPlaceholder)})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700",children:h("address",c.address)}),(0,o.jsx)("input",{id:"address",name:"address",type:"text",value:e.address,onChange:f,className:"mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:h("addressPlaceholder",c.addressPlaceholder)})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:h("description",c.description)}),(0,o.jsx)("textarea",{id:"description",name:"description",rows:3,value:e.description,onChange:f,className:"mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:h("descriptionPlaceholder",c.descriptionPlaceholder)})]}),(0,o.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:[h("password",c.password)," *"]}),(0,o.jsx)("input",{id:"password",name:"password",type:"password",value:e.password,onChange:f,required:!0,className:"mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:h("passwordPlaceholder",c.passwordPlaceholder)})]}),(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:[h("confirmPassword",c.confirmPassword)," *"]}),(0,o.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:"password",value:e.confirmPassword,onChange:f,required:!0,className:"mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),(0,o.jsx)("div",{className:"pt-2",children:(0,o.jsx)("button",{type:"submit",disabled:s,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?h("submitting",c.submitting):h("submit",c.submit)})})]}),(0,o.jsx)("div",{className:"mt-6 text-center",children:(0,o.jsxs)("p",{className:"text-sm text-gray-600",children:[h("haveAccount",c.haveAccount)," ",(0,o.jsx)(t.default,{href:"/login",className:"font-medium text-primary-600 hover:text-primary-700",children:h("signIn",c.signIn)})]})}),(0,o.jsx)("p",{className:"mt-4 text-xs text-center text-gray-500",children:h("terms",c.terms)})]})})})}},509:function(e,r,s){"use strict";s.r(r),s.d(r,{LanguageProvider:function(){return t},useLanguage:function(){return i}});var o=s(3827),a=s(4090);let n=(0,a.createContext)(void 0);function t(e){let{children:r}=e,[s,t]=(0,a.useState)("en");return(0,a.useEffect)(()=>{let e=localStorage.getItem("supplier-portal-language");e&&["en","fr","ht","es"].includes(e)&&t(e)},[]),(0,o.jsx)(n.Provider,{value:{language:s,setLanguage:e=>{t(e),localStorage.setItem("supplier-portal-language",e)},t:(e,r)=>r[s]||r.en||e},children:r})}function i(){let e=(0,a.useContext)(n);if(void 0===e)throw Error("useLanguage must be used within a LanguageProvider");return e}},4599:function(e,r,s){"use strict";s.d(r,{createClient:function(){return n}});var o=s(101),a=s(9079);function n(){return(0,o.AY)(a.env.NEXT_PUBLIC_SUPABASE_URL,a.env.NEXT_PUBLIC_SUPABASE_ANON_KEY)}},7907:function(e,r,s){"use strict";var o=s(5313);s.o(o,"usePathname")&&s.d(r,{usePathname:function(){return o.usePathname}}),s.o(o,"useRouter")&&s.d(r,{useRouter:function(){return o.useRouter}})}},function(e){e.O(0,[610,792,971,69,744],function(){return e(e.s=9078)}),_N_E=e.O()}]);