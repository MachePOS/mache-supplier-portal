(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[393,599],{3263:function(e,t,r){Promise.resolve().then(r.bind(r,9819))},9819:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var s=r(3827),a=r(4090),i=r(8792),n=r(4599),c=r(509);let o={products:{en:"Products",fr:"Produits",ht:"Pwodui",es:"Productos"},addProduct:{en:"Add Product",fr:"Ajouter un produit",ht:"Ajoute pwodui",es:"Agregar producto"},search:{en:"Search products...",fr:"Rechercher des produits...",ht:"Ch\xe8che pwodui...",es:"Buscar productos..."},noProducts:{en:"No products yet",fr:"Pas encore de produits",ht:"Pa gen pwodui ank\xf2",es:"Sin productos a\xfan"},addFirst:{en:"Add your first product to start selling",fr:"Ajoutez votre premier produit",ht:"Ajoute premye pwodui ou",es:"Agrega tu primer producto"},active:{en:"Active",fr:"Actif",ht:"Aktif",es:"Activo"},inactive:{en:"Inactive",fr:"Inactif",ht:"Inaktif",es:"Inactivo"},inStock:{en:"In Stock",fr:"En stock",ht:"Nan st\xf2k",es:"En stock"},outOfStock:{en:"Out of Stock",fr:"Rupture de stock",ht:"Pa nan st\xf2k",es:"Agotado"},edit:{en:"Edit",fr:"Modifier",ht:"Modifye",es:"Editar"}};function d(){let[e,t]=(0,a.useState)([]),[r,d]=(0,a.useState)(!0),[l,u]=(0,a.useState)(""),{t:x}=(0,c.useLanguage)();(0,a.useEffect)(()=>{m()},[]);let m=async()=>{let e=(0,n.createClient)(),{data:{user:r}}=await e.auth.getUser();if(!r)return;let{data:s}=await e.from("platform_suppliers").select("id").eq("contact_email",r.email).single();if(!s){d(!1);return}let{data:a}=await e.from("platform_supplier_products").select("id, name, sku, price, image_url, is_active, in_stock, stock_quantity, category:platform_supplier_categories(name)").eq("supplier_id",s.id).order("created_at",{ascending:!1});t(a||[]),d(!1)},p=e.filter(e=>{var t;return e.name.toLowerCase().includes(l.toLowerCase())||(null===(t=e.sku)||void 0===t?void 0:t.toLowerCase().includes(l.toLowerCase()))});return r?(0,s.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):(0,s.jsxs)("div",{className:"p-8",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:x("products",o.products)}),(0,s.jsxs)(i.default,{href:"/products/new",className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),x("addProduct",o.addProduct)]})]}),(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsx)("input",{type:"text",placeholder:x("search",o.search),value:l,onChange:e=>u(e.target.value),className:"w-full max-w-md px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})}),0===p.length?(0,s.jsxs)("div",{className:"text-center py-16 bg-white rounded-xl border border-gray-100",children:[(0,s.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gray-100 mb-4",children:(0,s.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:x("noProducts",o.noProducts)}),(0,s.jsx)("p",{className:"text-gray-500 mb-6",children:x("addFirst",o.addFirst)}),(0,s.jsxs)(i.default,{href:"/products/new",className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),x("addProduct",o.addProduct)]})]}):(0,s.jsx)("div",{className:"bg-white rounded-xl border border-gray-100 overflow-hidden",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SKU"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),(0,s.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-gray-100",children:p.map(e=>{var t;return(0,s.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden",children:e.image_url?(0,s.jsx)("img",{src:e.image_url,alt:e.name,className:"w-full h-full object-cover"}):(0,s.jsx)("svg",{className:"w-6 h-6 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:(null===(t=e.category)||void 0===t?void 0:t.name)||"-"})]})]})}),(0,s.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500",children:e.sku||"-"}),(0,s.jsxs)("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:["$",e.price.toFixed(2)]}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full ".concat(e.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.is_active?x("active",o.active):x("inactive",o.inactive)})}),(0,s.jsxs)("td",{className:"px-6 py-4",children:[(0,s.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full ".concat(e.in_stock?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"),children:e.in_stock?x("inStock",o.inStock):x("outOfStock",o.outOfStock)}),null!==e.stock_quantity&&(0,s.jsxs)("span",{className:"ml-2 text-sm text-gray-500",children:["(",e.stock_quantity,")"]})]}),(0,s.jsx)("td",{className:"px-6 py-4 text-right",children:(0,s.jsx)(i.default,{href:"/products/".concat(e.id),className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:x("edit",o.edit)})})]},e.id)})})]})})]})}},509:function(e,t,r){"use strict";r.r(t),r.d(t,{LanguageProvider:function(){return n},useLanguage:function(){return c}});var s=r(3827),a=r(4090);let i=(0,a.createContext)(void 0);function n(e){let{children:t}=e,[r,n]=(0,a.useState)("en");return(0,a.useEffect)(()=>{let e=localStorage.getItem("supplier-portal-language");e&&["en","fr","ht","es"].includes(e)&&n(e)},[]),(0,s.jsx)(i.Provider,{value:{language:r,setLanguage:e=>{n(e),localStorage.setItem("supplier-portal-language",e)},t:(e,t)=>t[r]||t.en||e},children:t})}function c(){let e=(0,a.useContext)(i);if(void 0===e)throw Error("useLanguage must be used within a LanguageProvider");return e}},4599:function(e,t,r){"use strict";r.d(t,{createClient:function(){return i}});var s=r(101),a=r(9079);function i(){return(0,s.AY)(a.env.NEXT_PUBLIC_SUPABASE_URL,a.env.NEXT_PUBLIC_SUPABASE_ANON_KEY)}}},function(e){e.O(0,[610,792,971,69,744],function(){return e(e.s=3263)}),_N_E=e.O()}]);